# =============================================================================
# T3 CHILL STACK - ENVIRONMENT VARIABLES
# =============================================================================
# Use this file as a template for your environment variables.
# 
# SETUP WORKFLOW:
# 1. Copy this file to `.env` (for local database config)
# 2. Copy this file to `.env.local` (for local overrides and secrets)
# 3. Set production variables in your hosting platform
# =============================================================================

# =============================================================================
# 🗄️ LOCAL DATABASE (.env) - Required by Prisma
# =============================================================================
# IMPORTANT: These MUST be in .env (not .env.local) for Prisma to work
# These are for local Supabase Docker instance (npm run db:start)
DATABASE_URL="postgresql://postgres:postgres@127.0.0.1:54322/postgres"
DIRECT_URL="postgresql://postgres:postgres@127.0.0.1:54322/postgres"

# =============================================================================
# 🔐 LOCAL DEVELOPMENT (.env.local) - Secrets and Overrides
# =============================================================================
# Supabase Local Instance (when using Docker)
NEXT_PUBLIC_SUPABASE_URL="http://127.0.0.1:54321"
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY="[YOUR_LOCAL_ANON_KEY]"

# OR

# Supabase Production Instance (uncomment if needed to use on production database on development)
# NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT_REF].supabase.co"
# NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY="[YOUR_PRODUCTION_ANON_KEY]"

# 💳 Stripe Configuration (get from Stripe Dashboard)
STRIPE_SECRET_KEY="[STRIPE_SECRET_KEY]"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="[NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY]"
NEXT_PUBLIC_STRIPE_PRICE_ID="[NEXT_PUBLIC_STRIPE_PRICE_ID]"
STRIPE_WEBHOOK_SECRET="[STRIPE_WEBHOOK_SECRET]"

# 🚀 Application Configuration
NODE_ENV="development"
NEXT_PUBLIC_APP_URL="http://localhost:3000"


# =============================================================================
# 🌐 PRODUCTION (.env.production or hosting platform)
# =============================================================================
# Set these in your hosting provider's environment dashboard (Vercel/Railway/etc)
# Production Database (from Supabase Dashboard → Database → Connection)
#  DATABASE_URL: Use the Transaction Pooler URI from Supabase dashboard
DATABASE_URL="postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-1-us-east-1.pooler.supabase.com:6543/postgres"
# DIRECT_URL: Use the Session Pooler URI from Supabase dashboard
DIRECT_URL="postgresql://postgres.[PROJECT_REF]:[PASSWORD]@aws-1-us-east-1.pooler.supabase.com:5432/postgres"

# Production Supabase (from Supabase Dashboard → API)
NEXT_PUBLIC_SUPABASE_URL="https://[PROJECT_REF].supabase.co"
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY="[YOUR_PRODUCTION_ANON_KEY]"

# Production Stripe (from Stripe Dashboard)
STRIPE_SECRET_KEY="[STRIPE_SECRET_KEY]"
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="[NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY]"
NEXT_PUBLIC_STRIPE_PRICE_ID="[NEXT_PUBLIC_STRIPE_PRICE_ID]"
STRIPE_WEBHOOK_SECRET="[STRIPE_WEBHOOK_SECRET]"

# Production Application
NODE_ENV="production"
NEXT_PUBLIC_APP_URL="https://your-app-domain.com"

# =============================================================================
# 📚 QUICK SETUP GUIDE
# =============================================================================
# 1. Install dependencies: npm install
# 2. Install Docker Desktop
# 3. Start local Supabase: npm run db:start
# 4. Setup Prisma: npm run prisma:generate && npm run prisma:migrate
# 5. Create Stripe account and products
# 6. Copy environment variables as shown above
# 7. Start development: npm run dev
#
# 🔗 Full guide: Visit http://localhost:3000 after setup for complete instructions